<%= content_for :admin_area_title do %>
    Repositories
<% end %>

<%= link_to 'Add Repository', new_repository_path, class: 'btn btn-default' %>

<br><br>

<% if @repositories.empty? %>

    <p>No repositories have been added yet.</p>

<% else %>

    <table class="table table-condensed table-hover">
      <thead>
      <tr>
        <th>ID</th>
        <th>Slug</th>
        <th>Title</th>
        <th>Collections</th>
        <th width="185px"></th>
      </tr>
      </thead>

      <tbody>
      <% @repositories.each do |repository| %>
          <tr>
            <td>
              <%= link_to repository.id, repository %>
            </td>
            <td>
              <%= link_to repository.slug, repository %>
            </td>
            <td>
              <%= repository.title %>
            </td>
            <td>
              <%= repository.collections.count %>
            </td>
            <td>
              <div class="btn-group btn-group-xs">
                <%= link_to 'View', repository, class: 'btn btn-default' %>
                <%= link_to 'BL View', solr_document_path(repository.slug), class: 'btn btn-default' %>
                <%= link_to 'Edit', edit_repository_path(repository), class: 'btn btn-default' %>
                <%= link_to 'Delete', repository, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-default' %>
              </div>
            </td>
          </tr>
      <% end %>
      </tbody>
    </table>

<% end %>